<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Orientation Training – All Services Home Healthcare</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --as-red:#9C1C1C;
  --grey:#1f1f22;
  --glass:rgba(255,255,255,0.05);
}
body{
  margin:0;font-family:Inter,sans-serif;color:#fff;
  background:radial-gradient(1000px 400px at 10% 0%,rgba(156,28,28,.08),transparent 60%),var(--grey);
}
.container{max-width:900px;margin:0 auto;padding:24px;}
.panel{background:rgba(43,43,46,.55);border:1px solid rgba(255,255,255,.08);
  border-radius:20px;backdrop-filter:blur(8px);box-shadow:0 10px 30px rgba(0,0,0,.35);
  padding:28px;animation:fadeUp .6s both;}
@keyframes fadeUp{from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);}}
h1,h2,h3{color:#fff;margin-top:0;}
button{border:none;border-radius:12px;padding:10px 16px;font-weight:600;cursor:pointer;}
.btn-primary{background:var(--as-red);color:#fff;}
.btn-ghost{background:var(--glass);border:1px solid rgba(255,255,255,.15);color:#eee;}
.progress-bar{height:8px;border-radius:8px;background:rgba(255,255,255,.15);overflow:hidden;margin-bottom:20px;}
.progress-fill{height:100%;width:0;background:var(--as-red);transition:width .5s ease;}
.scrollbox{max-height:220px;overflow-y:auto;padding-right:10px;border-left:3px solid var(--as-red);margin-bottom:10px;}
.scrollbox ul{margin:0;padding-left:20px;}
</style>
</head>
<body>
<div id="root"></div>

<script type="module">
  import React, { useState, useEffect } from "https://esm.sh/react@18.3.1";
  import ReactDOM from "https://esm.sh/react-dom@18.3.1";
  import { motion } from "https://cdn.jsdelivr.net/npm/framer-motion@10.16.4/+esm";
// --- ScrollyWelcome Component ---
function ScrollyWelcome({ onNext }) {
  // --- ScrollyWelcome Visual Fade-in CSS ---
  // Add the animation CSS once when the component is first used
  if (!window.__scrollyWelcomeStyleInjected) {
    const scrollyWelcomeStyle = document.createElement("style");
    scrollyWelcomeStyle.innerHTML = `
      .scrolly-welcome-visual {
        opacity: 0;
        animation: scrollyWelcomeFadeIn 0.9s cubic-bezier(.45,.8,.51,1.2) forwards;
        animation-delay: 0.15s;
        max-width: 90%;
        display: block;
        margin-left: auto;
        margin-right: auto;
      }
      @keyframes scrollyWelcomeFadeIn {
        from { opacity: 0; transform: scale(0.95);}
        to { opacity: 1; transform: scale(1);}
      }
    `;
    document.head.appendChild(scrollyWelcomeStyle);
    window.__scrollyWelcomeStyleInjected = true;
  }
  const [scene, setScene] = useState(0);
  const MotionDiv = motion.div;
  // SVGs replaced by Webflow-hosted SVG images
  function SVG1() {
    return (
      <img
        src="https://cdn.prod.website-files.com/68ce6ff73856b97e4595f20d/68f0c0564e83eb41719bbb13_Welcome%20Slides%20ASHHC%20.svg"
        alt="Welcome - Heart Home"
        className="scrolly-welcome-visual"
        style={{ display: "block", margin: "0 auto", maxWidth: "90%" }}
      />
    );
  }
  function SVG2() {
    return (
      <img
        src="https://cdn.prod.website-files.com/68ce6ff73856b97e4595f20d/68f0c056f0bb1401878d1554_Welcome%20Slides%20ASHHC%201%20(2).svg"
        alt="Welcome - Teamwork"
        className="scrolly-welcome-visual"
        style={{ display: "block", margin: "0 auto", maxWidth: "90%" }}
      />
    );
  }
  // Scenes
  const scenes = [
    {
      title: "Welcome to All Services Home Healthcare",
      text: (
        <>
          <p>
            We’re so glad you’re here! All Services Home Healthcare (ASHH) was founded from the love for family and a passion for helping others.
          </p>
          <p>
            Our motto, <strong>“Your home is where our heart is.”</strong> guides everything we do.
          </p>
        </>
      ),
      visual: <SVG1 />,
    },
    {
      title: "Our Mission & Teamwork",
      text: (
        <>
          <p>
            As a locally owned Kansas City agency, we’re dedicated to helping people live safely and independently at home.
          </p>
          <p>
            You are now part of a team that values compassion, communication, and excellence—together, we make a difference!
          </p>
        </>
      ),
      visual: <SVG2 />,
    },
    {
      title: "Let’s Begin Your Orientation!",
      text: (
        <>
          <p>
            This orientation will walk you through our values, expectations, and safety practices.
          </p>
          <p>
            Click <strong>Next</strong> to get started.
          </p>
        </>
      ),
      visual: null,
    },
  ];
  // Parallax/fade animation variants
  const variants = {
    initial: { opacity: 0, y: 40 },
    animate: { opacity: 1, y: 0, transition: { duration: 0.8, type: "spring", bounce: 0.2 } },
    exit: { opacity: 0, y: -40, transition: { duration: 0.4 } }
  };
  return (
    <div className="container" style={{ minHeight: 400, display: "flex", justifyContent: "center", alignItems: "center" }}>
      <MotionDiv
        key={scene}
        initial="initial"
        animate="animate"
        exit="exit"
        variants={variants}
        style={{
          background: "rgba(43,43,46,.55)",
          border: "1px solid rgba(255,255,255,.08)",
          borderRadius: 20,
          boxShadow: "0 10px 30px rgba(0,0,0,.25)",
          padding: 32,
          maxWidth: 480,
          width: "100%",
          margin: "0 auto",
          textAlign: "center",
          position: "relative"
        }}
      >
        <div style={{ marginBottom: 22 }}>
          {scenes[scene].visual && (
            <MotionDiv
              initial={{ opacity: 0, y: 30, scale: 0.95 }}
              animate={{ opacity: 1, y: 0, scale: 1, transition: { duration: 0.7, delay: 0.1 } }}
              style={{ marginBottom: 12 }}
            >
              {scenes[scene].visual}
            </MotionDiv>
          )}
          <h2 style={{ color: "#fff" }}>{scenes[scene].title}</h2>
        </div>
        <div style={{ color: "#fff", opacity: 0.92, fontSize: 17, marginBottom: 18 }}>
          {scenes[scene].text}
        </div>
        <div style={{ display: "flex", justifyContent: "space-between", marginTop: 22 }}>
          <button
            className="btn-ghost"
            style={{ minWidth: 80, visibility: scene === 0 ? "hidden" : "visible" }}
            disabled={scene === 0}
            onClick={() => setScene(scene - 1)}
            type="button"
          >
            Back
          </button>
          {scene < scenes.length - 1 ? (
            <button
              className="btn-primary"
              style={{ minWidth: 80 }}
              onClick={() => setScene(scene + 1)}
              type="button"
            >
              Next
            </button>
          ) : (
            <button
              className="btn-primary"
              style={{ minWidth: 80 }}
              onClick={onNext}
              type="button"
            >
              Next
            </button>
          )}
        </div>
      </MotionDiv>
    </div>
  );
}

// --- Progress State Helpers (localStorage only, no backend/fetch) ---
function saveProgressLocal(step, quizCompleted) {
  try {
    localStorage.setItem('orientationStep', String(step));
    localStorage.setItem('orientationQuizCompleted', String(quizCompleted));
  } catch (err) {
    // Ignore localStorage errors
  }
}

function loadProgressLocal() {
  try {
    const stepRaw = localStorage.getItem('orientationStep');
    const quizCompletedRaw = localStorage.getItem('orientationQuizCompleted');
    const step = stepRaw !== null ? parseInt(stepRaw, 10) : 0;
    const quizCompleted = quizCompletedRaw === "true";
    return { step: isNaN(step) ? 0 : step, quizCompleted };
  } catch (err) {
    return { step: 0, quizCompleted: false };
  }
}

function Orientation() {
  // --- Slides: shift all content to start at step 1 (index 0 is now ScrollyWelcome) ---
  const slides = [
    // Slide 0 is now reserved for ScrollyWelcome
    {
      title: "Our Beliefs & Core Values",
      content: (
        <>
          <h3>Our Core Beliefs</h3>
          <ul>
            <li>Our clients’ well-being comes first.</li>
            <li>Relationships and teamwork drive success.</li>
            <li>Honesty and integrity guide every decision.</li>
            <li>Our employees are our greatest asset.</li>
          </ul>
          <h3>Our Fundamental Values</h3>
          <ul>
            <li><strong>Compassion:</strong> Clients and families should feel cared for and supported.</li>
            <li><strong>Excellence:</strong> Provide quality care with the highest professional and ethical standards.</li>
            <li><strong>Reliability:</strong> Clients must be able to trust and depend on us.</li>
          </ul>
        </>
      ),
    },
    {
      title: "Code of Ethics for Personal Care Assistants",
      content: <CodeOfEthics />,
    },
    {
      title: "Section 2: Agency Policies & Employee Expectations",
      content: (
        <>
          <p style={{ fontSize: "16px", opacity: 0.9, textAlign: "center", marginTop: "40px" }}>
            Now that you understand the heart and values behind All Services, let’s explore the policies and expectations that help us maintain excellence and safety every day.
          </p>
        </>
      ),
      isDivider: true
    },
    {
      title: "Attendance & Punctuality",
      content: (
        <>
          <p>
            Reliable attendance and punctuality are essential to providing consistent, quality care to our clients.
            You are expected to report for your shifts on time and notify your supervisor promptly if you are unable to work.
            Call-offs should be communicated as early as possible to allow for proper coverage.
            Your dependability helps maintain trust and ensures the safety and well-being of those we serve.
          </p>
        </>
      ),
    },
    {
      title: "Professional Conduct",
      content: (
        <>
          <p>
            Maintaining professionalism is critical in all interactions.
            This includes adhering to the dress code, respecting client confidentiality, and treating clients and coworkers with dignity and respect.
            Demonstrating integrity and a positive attitude reflects the values of All Services and fosters a supportive work environment.
          </p>
        </>
      ),
    },
    {
      title: "Documentation & Reporting",
      content: (
        <>
          <p>
            Accurate documentation is vital for effective care coordination and compliance.
            Complete all time logs, incident reports, and other required paperwork thoroughly and honestly.
            Promptly report any changes in client condition or concerns to your supervisor.
            Clear and timely communication helps ensure client safety and quality service.
          </p>
        </>
      ),
    },
    {
      title: "Performance Standards",
      content: (
        <>
          <p>
            We expect all employees to provide care that meets the highest standards of quality and professionalism.
            This includes working collaboratively with team members, responding promptly to client needs, and continuously striving for excellence.
            Upholding these standards helps us deliver exceptional service and maintain our reputation as a trusted provider.
          </p>
        </>
      ),
    },
    {
      title: "Policy Acknowledgment",
      content: <PolicyAcknowledgment />,
    },
    {
      title: "Section 3: Emergency Procedures & Safety Protocols",
      content: (
        <>
          <p style={{ fontSize: "16px", opacity: 0.9, textAlign: "center", marginTop: "40px" }}>
            This section covers important emergency procedures and safety protocols to keep you and our clients safe in all situations.
          </p>
        </>
      ),
      isDivider: true
    },
    {
      title: "Emergency Preparedness Overview",
      content: (
        <>
          <p>
            Emergencies such as fires, medical incidents, and severe weather can happen unexpectedly. Being prepared helps ensure quick, effective responses to protect everyone involved.
            Understanding emergency protocols and staying calm are critical to maintaining safety.
          </p>
        </>
      ),
    },
    {
      title: "Client Safety & Fall Prevention",
      content: (
        <>
          <ul>
            <li>Use safe transfer techniques to prevent injury.</li>
            <li>Remove trip hazards such as loose rugs and clutter.</li>
            <li>Maintain clear, well-lit walkways at all times.</li>
            <li>Encourage clients to use assistive devices as needed.</li>
          </ul>
        </>
      ),
    },
    {
      title: "Infection Control & Hygiene",
      content: (
        <>
          <p>
            Proper handwashing, use of personal protective equipment (PPE), and safe disposal of waste are essential to prevent infection.
            Follow all infection control policies strictly to protect yourself and clients.
          </p>
        </>
      ),
    },
    {
      title: "Reporting Emergencies & Documentation",
      content: (
        <>
          <p>
            Report any emergency immediately to your supervisor or designated contact.
            Provide clear details about the situation and follow agency protocols.
            Complete all required documentation accurately and promptly to ensure proper follow-up and compliance.
          </p>
        </>
      ),
    },
    {
      title: "Emergency Procedures Acknowledgment",
      content: <EmergencyAcknowledgment />,
    },
    {
      title: "Section 4: Reporting & Documentation",
      content: (
        <>
          <p style={{ fontSize: "16px", opacity: 0.9, textAlign: "center", marginTop: "40px" }}>
            This section highlights the importance of proper incident reporting, documentation standards, and communication channels to ensure accountability and quality care.
          </p>
        </>
      ),
      isDivider: true
    },
    {
      title: "Incident Reporting Overview",
      content: (
        <>
          <p>
            It is essential to report all incidents including injuries, abuse, neglect, and safety hazards immediately. Timely reporting helps protect clients and staff, and ensures appropriate follow-up actions.
          </p>
        </>
      ),
    },
    {
      title: "Documentation Standards",
      content: (
        <>
          <p>
            All client records must be accurate, clear, and complete. Confidentiality must be maintained at all times to protect client privacy and comply with legal requirements.
          </p>
        </>
      ),
    },
    {
      title: "Communication Channels",
      content: (
        <>
          <p>
            Report incidents and concerns promptly to supervisors or nurse managers. Follow established timelines and protocols to ensure effective communication and resolution.
          </p>
        </>
      ),
    },
    {
      title: "Acknowledgment of Reporting Policies",
      content: <ReportingAcknowledgment />,
    },
    // --- Section 5 Divider ---
    {
      title: "Section 5: Abuse, Neglect & Client Rights",
      content: (
        <>
          <p style={{ fontSize: "16px", opacity: 0.9, textAlign: "center", marginTop: "40px" }}>
            In this section, you’ll learn how to recognize and respond to abuse, neglect, and exploitation, and how to protect the rights and dignity of our clients.
          </p>
        </>
      ),
      isDivider: true
    },
    // --- Section 5 Slides ---
    {
      title: "Understanding Abuse and Neglect",
      content: (
        <>
          <p>
            <strong>Abuse</strong> is any intentional act that causes harm or distress to a client. This may be physical, emotional, sexual, or financial.<br /><br />
            <strong>Neglect</strong> is failing to provide necessary care, resulting in harm or risk of harm.<br /><br />
            <strong>Exploitation</strong> is the misuse of a client’s resources for personal gain.<br /><br />
            <em>Examples:</em>
            <ul>
              <li>Physical: Hitting, slapping, rough handling</li>
              <li>Emotional: Insults, threats, intimidation</li>
              <li>Neglect: Withholding food, medication, or hygiene</li>
              <li>Financial: Stealing money or valuables</li>
            </ul>
          </p>
        </>
      ),
    },
    {
      title: "Recognizing the Signs",
      content: (
        <>
          <ul>
            <li><strong>Physical Abuse:</strong> Unexplained bruises, burns, or injuries; frequent falls; fearfulness around certain people</li>
            <li><strong>Emotional Abuse:</strong> Withdrawal, depression, anxiety, sudden changes in behavior</li>
            <li><strong>Financial Abuse:</strong> Missing money or possessions, sudden financial problems, unusual banking activity</li>
          </ul>
        </>
      ),
    },
    {
      title: "Your Legal and Ethical Responsibilities",
      content: (
        <>
          <p>
            As a caregiver, you are a <strong>mandated reporter</strong> under Missouri law. This means you are legally and ethically required to report any suspected abuse, neglect, or exploitation <strong>immediately</strong> to your supervisor or the appropriate authorities.<br /><br />
            <em>Failure to report suspected cases can result in legal consequences and puts clients at risk.</em>
          </p>
        </>
      ),
    },
    {
      title: "Client Rights and Dignity",
      content: (
        <>
          <ul>
            <li>Clients have the right to be treated with <strong>respect and dignity</strong> at all times.</li>
            <li>Clients’ <strong>privacy</strong> and <strong>confidentiality</strong> must be protected.</li>
            <li>Clients have the right to make their own choices and maintain as much <strong>independence</strong> as possible.</li>
            <li>Clients have the right to be free from abuse, neglect, and exploitation.</li>
          </ul>
        </>
      ),
    },
    {
      title: "Acknowledgment of Client Rights & Safety Policies",
      content: <ClientRightsAcknowledgment />,
    },
    // --- Final Quiz Divider Slide ---
    {
      title: "Final Knowledge Check: Orientation Quiz",
      isDivider: true,
      content: (
        <>
          <p style={{ fontSize: "16px", opacity: 0.9, textAlign: "center", marginTop: "40px" }}>
            Let’s wrap up your orientation with a short knowledge check! Please answer all questions before submitting.
          </p>
        </>
      ),
    },
    // --- Final Quiz Slide ---
    {
      title: "Orientation Final Quiz",
      content: <FinalQuiz />,
    }
  ];
function ClientRightsAcknowledgment({ ack, setAck }) {
  const items = [
    "Treat all clients with respect and dignity, regardless of background or ability.",
    "Protect client privacy and confidentiality at all times.",
    "Support clients’ independence and choices whenever possible.",
    "Remain alert for signs of abuse, neglect, or exploitation.",
    "Immediately report any suspicion of abuse, neglect, or exploitation to your supervisor or authorities.",
    "Never misuse, borrow, or take a client’s money or belongings.",
    "Maintain a safe, supportive, and non-threatening environment for every client.",
    "Follow all agency policies and state laws regarding client rights and safety."
  ];
  return (
    <>
      <div className="scrollbox">
        <ul>{items.map((x, i) => <li key={i}>{x}</li>)}</ul>
      </div>
      <label style={{ display: "flex", alignItems: "center", gap: "8px", fontSize: "14px" }}>
        <input type="checkbox" checked={ack} onChange={e => setAck(e.target.checked)} />
        I have read and agree to uphold Client Rights & Safety Policies.
      </label>
      <div style={{ marginTop: "10px" }}>
        <small>Checking this box is required to complete this section.</small>
      </div>
    </>
  );
}

  // --- Progress State (local only) ---
  // step 0 = welcome scrollytelling, step 1+ = slides[0]+
  const [step, setStep] = useState(() => {
    const loaded = loadProgressLocal();
    return loaded.step || 0;
  });
  const [ack, setAck] = useState(false);
  const [isNextDisabled, setIsNextDisabled] = useState(false);
  // For quiz completion tracking
  const [quizCompleted, setQuizCompleted] = useState(() => {
    const loaded = loadProgressLocal();
    return loaded.quizCompleted || false;
  });
  // Progress: step 0 = 0%, step 1 = first slide, etc.
  const progress = step === 0 ? 0 : ((step) / slides.length) * 100;
  // For slide transitions
  const [slideDir, setSlideDir] = useState("none");
  const [showSlide, setShowSlide] = useState(true);

  // --- Load progress on mount ---
  useEffect(() => {
    const loaded = loadProgressLocal();
    if (typeof loaded.step === "number" && loaded.step !== step) {
      setStep(loaded.step);
    }
    if (typeof loaded.quizCompleted === "boolean" && loaded.quizCompleted !== quizCompleted) {
      setQuizCompleted(loaded.quizCompleted);
    }
    // eslint-disable-next-line
  }, []);

  // --- Save progress on step/quizCompleted change ---
  useEffect(() => {
    saveProgressLocal(step, quizCompleted);
  }, [step, quizCompleted]);

  // --- On step change, handle divider and ack reset ---
  useEffect(() => {
    // If on scrollytelling step, no divider logic
    if (step === 0) {
      setIsNextDisabled(false);
      setAck(false);
      return;
    }
    // For normal slides
    if (slides[step - 1] && slides[step - 1].isDivider) {
      setIsNextDisabled(true);
      const timer = setTimeout(() => {
        setIsNextDisabled(false);
      }, 2000);
      return () => clearTimeout(timer);
    } else {
      setIsNextDisabled(false);
    }
    // Reset ack except for quiz slide
    if (step !== slides.length) {
      setAck(false);
    }
  }, [step]);

  // Allow FinalQuiz to report completion up
  function handleQuizComplete() {
    setQuizCompleted(true);
  }

  // --- Slide transition logic ---
  function goToStep(nextStep) {
    setShowSlide(false);
    setSlideDir(nextStep > step ? "right" : "left");
    setTimeout(() => {
      setStep(nextStep);
      setShowSlide(true);
    }, 250);
  }

  function renderPanelContent() {
    // If on scrollytelling welcome step
    if (step === 0) {
      return (
        <ScrollyWelcome onNext={() => goToStep(1)} />
      );
    }
    // If on the quiz slide, inject quiz completion logic
    if (slides[step - 1] && slides[step - 1].title === "Orientation Final Quiz") {
      return (
        <FinalQuiz onComplete={handleQuizComplete} />
      );
    }
    // Otherwise, pass ack/setAck as before
    return React.cloneElement(slides[step - 1].content, { ack, setAck });
  }

  function renderButtons() {
    // If on scrollytelling step, show no nav controls (handled inside ScrollyWelcome)
    if (step === 0) return null;
    // Consistent navigation controls for all slides:
    // Back (left, except first slide), Next (center, if not last/quiz), Return to Dashboard (right, always)
    // Special handling for Quiz slide: Next is omitted, Return to Dashboard only enabled if quiz complete
    const isFirstSlide = step === 1;
    const isLastSlide = step === slides.length;
    const isQuizSlide = slides[step - 1] && slides[step - 1].title === "Orientation Final Quiz";
    // Style for spacing and alignment
    const navStyle = {
      marginTop: 28,
      display: "flex",
      justifyContent: "space-between",
      alignItems: "center",
      gap: 12
    };
    // Back button (not on first slide)
    const backBtn = (!isFirstSlide ? (
      <button
        className="btn-ghost"
        style={{ minWidth: 90 }}
        onClick={() => goToStep(step - 1)}
        type="button"
      >
        Back
      </button>
    ) : (
      <span style={{ minWidth: 90 }}></span>
    ));
    // Next button (not on last/quiz slide)
    const showNext = !isQuizSlide && step < slides.length;
    const nextBtn = (showNext ? (
      <button
        className="btn-primary"
        style={{ minWidth: 90 }}
        disabled={slides[step - 1] && slides[step - 1].isDivider ? isNextDisabled : false}
        onClick={() => goToStep(step + 1)}
        type="button"
      >
        Next
      </button>
    ) : (
      <span style={{ minWidth: 90 }}></span>
    ));
    // Return to Dashboard button (always present, but may be disabled/hidden on quiz slide)
    let dashboardBtn;
    if (isQuizSlide) {
      dashboardBtn = (
        <button
          className="btn-primary"
          style={{
            minWidth: 160,
            marginLeft: 8,
            visibility: quizCompleted ? "visible" : "hidden"
          }}
          onClick={() => window.location.href = "index.html"}
          type="button"
        >
          Return to Dashboard
        </button>
      );
    } else if (isLastSlide) {
      dashboardBtn = (
        <button
          className="btn-primary"
          style={{ minWidth: 160, marginLeft: 8 }}
          disabled={!ack}
          onClick={() => window.location.href = "index.html"}
          type="button"
        >
          Return to Dashboard
        </button>
      );
    } else {
      dashboardBtn = (
        <button
          className="btn-primary"
          style={{ minWidth: 160, marginLeft: 8 }}
          onClick={() => window.location.href = "index.html"}
          type="button"
        >
          Return to Dashboard
        </button>
      );
    }
    // Layout: Back | Next | Return to Dashboard (Next hidden if quiz/last)
    return (
      <div style={navStyle}>
        {backBtn}
        <div style={{ flex: 1, textAlign: "center" }}>
          {nextBtn}
        </div>
        {dashboardBtn}
      </div>
    );
  }

  // --- No email prompt: Progress is saved locally, so skip email entry ---

  // --- Slide transition classes ---
  let slideClass = "slide-panel";
  if (!showSlide) {
    slideClass += slideDir === "right" ? " slide-out-left" : " slide-out-right";
  } else {
    slideClass += slideDir === "right" ? " slide-in-right" : (slideDir === "left" ? " slide-in-left" : "");
  }

  // If on scrollytelling step, render only ScrollyWelcome (with progress bar at 0)
  if (step === 0) {
    return (
      <div className="container" style={{display: "flex", justifyContent: "center", alignItems: "center", height: "70vh"}}>
        <div className={`panel ${slideClass}`} style={{maxWidth: "600px", textAlign: "center"}}>
          <div className="progress-bar">
            <div className="progress-fill" style={{ width: progress + "%" }}></div>
          </div>
          <div>{renderPanelContent()}</div>
        </div>
      </div>
    );
  }
  // For slides 1+
  const isDivider = slides[step - 1] && slides[step - 1].isDivider;
  return (
    <div className="container" style={isDivider ? {display: "flex", justifyContent: "center", alignItems: "center", height: "70vh"} : {}}>
      <div className={`panel ${slideClass}`} style={isDivider ? {maxWidth: "600px", textAlign: "center"} : {}}>
        <div className="progress-bar">
          <div className="progress-fill" style={{ width: progress + "%" }}></div>
        </div>
        <h2>{slides[step - 1].title}</h2>
        <div>{renderPanelContent()}</div>
        <div style={{ minHeight: 70, display: "flex", alignItems: "flex-end" }}>
          {renderButtons()}
        </div>
      </div>
    </div>
  );
// Final Quiz Component
function FinalQuiz({ onComplete }) {
  // Questions: Each has q, options, and correct index
  const questions = [
    {
      q: "What is the All Services Home Healthcare motto?",
      options: [
        "Caring for you, every step of the way.",
        "Your home is where our heart is.",
        "Home care, done right.",
        "Putting clients first, always.",
      ],
      a: 1,
    },
    {
      q: "Which of the following is NOT one of the agency's core values?",
      options: [
        "Compassion",
        "Excellence",
        "Profitability",
        "Reliability",
      ],
      a: 2,
    },
    {
      q: "The Code of Ethics requires you to:",
      options: [
        "Accept gifts from clients to show appreciation.",
        "Maintain honesty and integrity in all dealings.",
        "Discuss your personal problems with clients.",
      ],
      a: 1,
    },
    {
      q: "If you are unable to make it to your shift, you should:",
      options: [
        "Notify your supervisor as soon as possible.",
        "Wait until the next day to report your absence.",
        "Tell a coworker and assume they will inform your supervisor.",
      ],
      a: 0,
    },
    {
      q: "Documentation should be:",
      options: [
        "Completed only if you remember.",
        "Accurate, thorough, and timely.",
        "Written in pencil so it can be changed later.",
      ],
      a: 1,
    },
    {
      q: "In case of fire or medical emergency, you should:",
      options: [
        "Remain calm, follow emergency protocols, and report immediately.",
        "Leave the building without telling anyone.",
        "Try to handle the situation entirely on your own.",
      ],
      a: 0,
    },
    {
      q: "If you witness or suspect abuse or neglect, you must:",
      options: [
        "Wait to see if it happens again before reporting.",
        "Report it immediately to your supervisor or authorities.",
        "Keep it to yourself to avoid trouble.",
      ],
      a: 1,
    },
    {
      q: "Which of the following is a sign of possible financial abuse?",
      options: [
        "Unexplained bruises.",
        "Missing money or unusual banking activity.",
        "Sudden withdrawal or depression.",
      ],
      a: 1,
    },
    {
      q: "Clients have the right to:",
      options: [
        "Be treated with respect and dignity.",
        "Have their privacy and confidentiality protected.",
        "Make their own choices and maintain independence.",
        "All of the above.",
      ],
      a: 3,
    },
    {
      q: "Confidentiality means:",
      options: [
        "Discussing client information only with authorized personnel.",
        "Sharing client stories with friends.",
        "Posting about clients on social media.",
      ],
      a: 0,
    },
    {
      q: "A mandated reporter is someone who:",
      options: [
        "Is required by law to report suspected abuse or neglect.",
        "May choose to report abuse if they wish.",
        "Only reports emergencies.",
      ],
      a: 0,
    },
    {
      q: "When should incidents be reported?",
      options: [
        "Immediately, according to agency policy.",
        "At the end of the week.",
        "Only if someone asks.",
      ],
      a: 0,
    },
    {
      q: "Which is an example of professionalism?",
      options: [
        "Wearing proper attire and treating everyone respectfully.",
        "Using a client’s phone for personal calls.",
        "Arriving late but apologizing.",
      ],
      a: 0,
    },
    {
      q: "What should you do if you notice a fall hazard in a client’s home?",
      options: [
        "Ignore it unless the client complains.",
        "Remove the hazard or report it for correction.",
        "Wait for the next visit to address it.",
      ],
      a: 1,
    },
    {
      q: "Which of the following is NOT permitted under the Code of Ethics?",
      options: [
        "Maintaining confidentiality.",
        "Bringing other people to the client’s home.",
        "Providing client-centered services.",
      ],
      a: 1,
    },
  ];

  // User answers: -1 means unanswered
  const [answers, setAnswers] = useState(Array(questions.length).fill(-1));
  const [submitted, setSubmitted] = useState(false);
  const [allCorrect, setAllCorrect] = useState(false);

  // Progress for quiz (for question completion)
  const numAnswered = answers.filter(a => a !== -1).length;
  const quizProgress = Math.round((numAnswered / questions.length) * 100);

  // Validate and show result
  function handleSubmit(e) {
    e.preventDefault();
    setSubmitted(true);
    // Check if all correct
    const correct = answers.every((a, i) => a === questions[i].a);
    setAllCorrect(correct);
    if (typeof onComplete === "function") {
      try {
        onComplete();
      } catch (err) {
        console.warn("onComplete callback error:", err);
      }
    }
  }

  useEffect(() => {
    if (answers.every(a => a !== -1) && typeof onComplete === "function") {
      try {
        onComplete();
      } catch (err) {
        console.warn("onComplete callback error:", err);
      }
    }
  }, [answers]);

  return (
    <form onSubmit={handleSubmit} style={{ marginTop: 10 }}>
      <div className="progress-bar" style={{ marginBottom: 12 }}>
        <div className="progress-fill" style={{ width: quizProgress + "%", background: "var(--as-red)" }}></div>
      </div>
      <div style={{ fontSize: 14, marginBottom: 18, color: "#fff", opacity: 0.85 }}>
        {numAnswered < questions.length
          ? `Progress: ${numAnswered} / ${questions.length} answered`
          : "All questions answered"}
      </div>
      <ol style={{ paddingLeft: 18, margin: 0 }}>
        {questions.map((q, idx) => (
          <li key={idx} style={{ marginBottom: 18, animation: `fadeUp .6s both`, animationDelay: `${0.03*idx}s` }}>
            <div style={{ fontWeight: 500, marginBottom: 6, color: "#fff" }}>{q.q}</div>
            <div>
              {q.options.map((opt, j) => (
                <label key={j} style={{
                  display: "block", marginBottom: 3, cursor: "pointer",
                  background: answers[idx] === j ? "rgba(156,28,28,0.13)" : "transparent",
                  borderRadius: "7px", padding: "3px 7px"
                }}>
                  <input
                    type="radio"
                    name={`q${idx}`}
                    value={j}
                    checked={answers[idx] === j}
                    onChange={() => {
                      const next = answers.slice();
                      next[idx] = j;
                      setAnswers(next);
                    }}
                    style={{ marginRight: 7 }}
                  />
                  {opt}
                  {submitted && answers[idx] === j && q.a !== j && (
                    <span style={{ color: "var(--as-red)", marginLeft: 8, fontSize: 13 }}>✗</span>
                  )}
                  {submitted && answers[idx] === j && q.a === j && (
                    <span style={{ color: "green", marginLeft: 8, fontSize: 13 }}>✓</span>
                  )}
                </label>
              ))}
            </div>
          </li>
        ))}
      </ol>
      <div style={{ marginTop: 30, textAlign: "center" }}>
        {numAnswered < questions.length && (
          <button type="submit" className="btn-primary" disabled style={{ opacity: 0.7 }}>
            Submit Quiz
          </button>
        )}
        {numAnswered === questions.length && !submitted && (
          <button type="submit" className="btn-primary">
            Submit Quiz
          </button>
        )}
        {submitted && (
          <div style={{
            marginTop: 20,
            fontWeight: 600,
            fontSize: 18,
            color: allCorrect ? "green" : "var(--as-red)"
          }}>
            {allCorrect
              ? "✅ Quiz Complete! Great job finishing Orientation Training!"
              : "Some answers are incorrect. Please review and try again!"}
          </div>
        )}
        {numAnswered === questions.length && !submitted && (
          <div style={{ color: "#fff", marginTop: 10, fontSize: 14 }}>
            Please review your answers before submitting.
          </div>
        )}
      </div>
    </form>
  );
}
}

function CodeOfEthics({ ack, setAck }) {
  const items = [
    "The safety and well-being of the client is our primary concern in all decisions and actions.",
    "Maintain the highest level of honesty and integrity in all dealings.",
    "Provide quality, conscientious, client-centered services.",
    "Respect each client’s property and privacy.",
    "Comply with all employer policies and applicable laws.",
    "Do not use participant’s car.",
    "Do not consume participant’s food or drink (except water).",
    "Do not use participant’s telephone for personal calls.",
    "Avoid discussing personal problems, religion, or politics.",
    "Do not accept gifts or tips.",
    "Never bring other people to the participant’s home.",
    "No alcohol, drugs, or smoking in the participant’s home or before shifts.",
    "Do not solicit money or goods for personal gain.",
    "Maintain confidentiality of all information and records.",
    "Do not purchase any item from the participant.",
    "Always act with professionalism, respect, and compassion.",
  ];

  return (
    <>
      <div className="scrollbox">
        <ul>{items.map((x, i) => <li key={i}>{x}</li>)}</ul>
      </div>
      <label style={{ display: "flex", alignItems: "center", gap: "8px", fontSize: "14px" }}>
        <input type="checkbox" checked={ack} onChange={e => setAck(e.target.checked)} />
        I have read and agree to the Code of Ethics
      </label>
      <div style={{ marginTop: "10px" }}>
        <small>Checking this box is required to complete this section.</small>
      </div>
    </>
  );
}

function PolicyAcknowledgment({ ack, setAck }) {
  const items = [
    "Report to shifts on time and notify supervisors promptly of any absences.",
    "Maintain professionalism, including dress code and respectful behavior.",
    "Complete all documentation accurately and report incidents immediately.",
    "Provide high-quality care and work collaboratively with team members.",
    "Adhere to all agency policies and uphold client confidentiality.",
  ];

  return (
    <>
      <div className="scrollbox">
        <ul>{items.map((x, i) => <li key={i}>{x}</li>)}</ul>
      </div>
      <label style={{ display: "flex", alignItems: "center", gap: "8px", fontSize: "14px" }}>
        <input type="checkbox" checked={ack} onChange={e => setAck(e.target.checked)} />
        I have read and understand the Agency Policies & Employee Expectations.
      </label>
      <div style={{ marginTop: "10px" }}>
        <small>Checking this box is required to complete this section.</small>
      </div>
    </>
  );
}

function EmergencyAcknowledgment({ ack, setAck }) {
  const items = [
    "Understand and follow emergency preparedness protocols for fires, medical incidents, and severe weather.",
    "Practice client safety and fall prevention techniques at all times.",
    "Adhere to infection control and hygiene standards including proper handwashing and PPE use.",
    "Report emergencies immediately and complete all required documentation accurately.",
    "Maintain calm and professionalism during emergency situations to ensure safety.",
  ];

  return (
    <>
      <div className="scrollbox">
        <ul>{items.map((x, i) => <li key={i}>{x}</li>)}</ul>
      </div>
      <label style={{ display: "flex", alignItems: "center", gap: "8px", fontSize: "14px" }}>
        <input type="checkbox" checked={ack} onChange={e => setAck(e.target.checked)} />
        I have read and understand the Emergency Procedures & Safety Protocols.
      </label>
      <div style={{ marginTop: "10px" }}>
        <small>Checking this box is required to complete this section.</small>
      </div>
    </>
  );
}

function ReportingAcknowledgment({ ack, setAck }) {
  const items = [
    "Report all incidents including injuries, abuse, neglect, and safety hazards promptly.",
    "Maintain accurate, clear, and confidential documentation.",
    "Communicate incidents and concerns to supervisors or nurse managers following timelines.",
    "Follow all reporting policies to ensure client and staff safety.",
  ];

  return (
    <>
      <div className="scrollbox">
        <ul>{items.map((x, i) => <li key={i}>{x}</li>)}</ul>
      </div>
      <label style={{ display: "flex", alignItems: "center", gap: "8px", fontSize: "14px" }}>
        <input type="checkbox" checked={ack} onChange={e => setAck(e.target.checked)} />
        I have read and understand the Reporting & Documentation policies.
      </label>
      <div style={{ marginTop: "10px" }}>
        <small>Checking this box is required to complete this section.</small>
      </div>
    </>
  );
}

ReactDOM.createRoot(document.getElementById("root")).render(<Orientation />);
</script>
</body>
</html>